.steps {
  display: flex;
  width: 100%;
  max-width: 856px;
  font-size: 0;
  line-height: 1.7143;
  * {
    box-sizing: border-box;
  }
  span {
    display: inline-flex;
    align-items: center;
  }
}

.steps-item {
  position: relative;
  display: inline-block;
  flex: 1;
  overflow: hidden;
  vertical-align: top;
  &:last-child {
    flex: none;
  }
  &:last-child &-tail,
  &:last-child &-title:after {
    display: none;
  }
  &-icon,
  &-content {
    display: inline-block;
    vertical-align: top;
  }
  &-icon {
    width: $steps-item-icon-size;
    height: $steps-item-icon-size;
    border: 2px solid transparent;
    border-radius: 50%;
    margin-right: 4px;
    font-size: $steps-item-icon-font-size;
    line-height: $steps-item-icon-size - 2px;
    text-align: center;
    transition: background-color 0.3s, border-color 0.3s;
    > .steps-icon {
      position: relative;
      top: -1px;
      color: $steps-main-color;
      line-height: 1;
      &.icon {
        top: 2px;
      }
    }
  }
  &-tail {
    position: absolute;
    top: ($steps-item-icon-size - $steps-tail-size) / 2;
    left: 0;
    width: 100%;
    height: $steps-tail-size;
    padding: 0 4px;
    &:after {
      display: inline-block;
      width: 100%;
      height: $steps-tail-size;
      background: $steps-wait-tail-color;
      transition: background-color 0.3s;
      content: '';
    }
  }
  &-content {
    line-height: 1.7143;
  }
  &-title {
    position: relative;
    display: inline-block;
    padding-right: 4px;
    color: $steps-wait-title-color;
    font-size: $steps-item-icon-font-size;
    &:after {
      position: absolute;
      top: 11px;
      left: 100%;
      display: block;
      width: 1000px;
      height: $steps-tail-size;
      background: $steps-wait-tail-color;
      content: '';
    }
  }
  &-description {
    color: $step-item-description-color;
    font-size: 12px;
  } // wait
  &-wait &-icon {
    border-color: $steps-wait-icon-border-color;
    background-color: $steps-wait-icon-bg-color;
    > .steps-icon {
      color: $steps-wait-icon-color;
      .steps-icon-dot {
        background: $steps-wait-icon-color;
      }
    }
  }
  &-wait &-title {
    color: $steps-wait-title-color;
    &:after {
      background-color: $steps-wait-tail-color;
    }
  }
  &-wait &-description {
    color: $steps-wait-description-color;
  }
  &-wait &-tail:after {
    background-color: $steps-wait-tail-color;
  } // process
  &-process &-icon {
    border-color: $steps-process-icon-border-color;
    background-color: $steps-process-icon-bg-color;
    > .steps-icon {
      color: $steps-process-icon-color;
      .steps-icon-dot {
        background: $steps-process-icon-color;
      }
    }
  }
  &-process &-title {
    color: $steps-process-title-color;
    font-weight: $steps-process-title-font-weight;
    .icon .#{$icon-prefix} {
      color: $icon-coloured-color;
      fill: $icon-coloured-fill;
    }
    &:after {
      background-color: $steps-process-tail-color;
    }
  }
  &-process &-description {
    color: $steps-process-description-color;
  }
  &-process &-tail:after {
    background-color: $steps-process-tail-color;
  } // finish
  &-finish &-icon {
    border-color: $steps-finish-icon-border-color;
    background-color: $steps-finish-icon-bg-color;
    > .steps-icon {
      color: $steps-finish-icon-color;
      .steps-icon-dot {
        background: $steps-finish-icon-color;
      }
    }
  }
  &-finish &-title {
    color: $steps-finish-title-color;
    &:after {
      background-color: $steps-finish-tail-color;
    }
  }
  &-finish &-description {
    color: $steps-finish-description-color;
  }
  &-finish &-tail:after {
    background-color: $steps-finish-tail-color;
  } // error
  &-error &-icon {
    border-color: $steps-error-icon-border-color;
    background-color: $steps-error-icon-bg-color;
    > .steps-icon {
      color: $steps-error-icon-color;
      .steps-icon-dot {
        background: $steps-error-icon-color;
      }
    }
  }
  &-error &-title {
    color: $steps-error-title-color;
    &:after {
      background-color: $steps-error-tail-color;
    }
  }
  &-error &-description {
    color: $steps-error-description-color;
  }
  &-error &-tail:after {
    background-color: $steps-error-tail-color;
  }
  &.steps-next-error .steps-item-title:after {
    background: $steps-error-icon-color;
  }
}

.steps-horizon:not(.steps-label-vertical) {
  .steps-item {
    margin-right: 4px;
    &:last-child {
      margin-right: 0;
    }
    &-content {
      padding: 4px;
    }
    &-tail {
      display: none;
    }
    &-description {
      max-width: $steps-item-description-max-width;
    }
  }
}

// custom icon
.steps-item-custom {
  .steps-item-icon {
    width: auto;
    height: auto;
    border: 0;
    background: none;
    > .steps-icon {
      top: 4px;
      width: 24px;
      height: 24px;
    }
  }
  &.steps-item-process,
  &.steps-item-finish {
    .steps-item-icon > .steps-icon .icon .#{$icon-prefix} {
      color: $icon-coloured-color;
      fill: $icon-coloured-fill;
    }
  }
}

// vertical
.steps-vertical {
  flex-direction: column;
  .steps-item {
    display: block;
    overflow: visible;
    &-icon {
      float: left;
      margin-right: 12px;
      .steps-icon .icon {
        position: relative;
        left: 4px;
      }
    }
    &-content {
      display: block;
      min-height: 48px;
      overflow: hidden;
    }
    &-title {
      padding: 4px 0;
      line-height: 1.7143;
      &:after {
        display: none;
      }
    }
    &-description {
      padding-bottom: 12px;
    }
    &-tail {
      position: absolute;
      top: 0;
      left: ($steps-item-icon-size - $steps-tail-size) / 2;
      width: $steps-tail-size;
      height: 100%;
      padding: 36px 0 4px 0;
      &:after {
        width: $steps-tail-size;
        height: 100%;
      }
    }
  }
}

// label placement
.steps-label-vertical {
  .steps-item {
    overflow: visible;
    &-tail {
      padding: 0 20px;
      margin-left: 50px;
    }
    &-content {
      display: block;
      width: $steps-item-description-max-width;
      margin-top: 8px;
      text-align: center;
    }
    &-icon {
      display: inline-block;
      margin-left: 34px;
    }
    &-title {
      padding-right: 0;
      &:after {
        display: none;
      }
    }
    &-description {
      text-align: left;
    }
  }
}

// progress dot
.steps-dot {
  .steps-item {
    &-tail {
      top: 1px;
      width: 100%;
      padding: 0;
      margin: 0 0 0 $steps-item-description-max-width / 2;
      &:after {
        height: 3px;
      }
    }
    &-icon {
      width: 5px;
      height: 5px;
      padding-right: 0;
      border: 0;
      margin-left: 48px;
      line-height: 5px;
      .steps-icon-dot {
        float: left;
        width: 100%;
        height: 100%;
        border-radius: 2.5px;
      }
    }
    &-process &-icon {
      top: -1px;
      width: 7px;
      height: 7px;
      line-height: 7px;
      .steps-icon-dot {
        border-radius: 3.5px;
      }
    }
  }
}
